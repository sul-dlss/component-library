:root {
  --sul-logo-color: white;
  --identity-bar-color: var(--stanford-cardinal);
}

/* stylelint-disable selector-class-pattern */
.su-brand-bar__logo {
  --bs-link-hover-decoration: none;

  color: var(--identity-bar-color);
  display: block;
  font-size: 1rem;
  font-family: var(--font-family-serif);
  font-weight: 400;
  font-variant-ligatures: discretionary-ligatures;
  font-feature-settings: "liga";
  height: 1.875em;
  padding-top: 0.125rem;
  white-space: nowrap;
}
/* stylelint-enable selector-class-pattern */

.navbar-logo,
.prefooter-logo {
  --bs-navbar-brand-padding-y: 0;

  background-color: var(--sul-logo-color);
  mask-image: url("StanfordLibraries-logo.svg");
  mask-repeat: no-repeat;
  mask-position: 0 center;
  overflow: hidden;
  text-indent: 100%;
  white-space: nowrap;
  width: 280px;
}

/* The .navbars selector is because adding .navbar to the nav in the masthead
 * causes popper to incorrectly position the dropdowns offscreen, so we need
 * to target that navigation with a different selector. */
.bg-dark.navbar,
.bg-dark .navbar,
.bg-dark .navbars {
  --bs-navbar-color: white;
  --bs-navbar-active-color: var(--bs-navbar-color);
  --bs-navbar-hover-color: rgb(255 255 255 / 100%);
  --bs-nav-link-color: var(--bs-navbar-color);
  --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 17 17'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='1' d='M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z' /%3e%3c/svg%3e");
  --bs-navbar-toggler-border-color: rgb(255 255 255 / 10%);

  .collapsed {
    --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  }
}

#feedback {
  label {
    text-align: right;
    font-weight: bold;
  }
}

/* HRs in the navbar have to be positioned vertically relative to the nav lists,
 * but horizontally relative to the entire container. They aren't valid as
 * children of a <ul>, so they have to be siblings, and they can't be inside
 * an <li> because they would be counted as items in the list. Repositioning of
 * other elements during opening of the menu makes them jump around, so we also
 * have to disable animation of opening/closing the nav. */
.navbar-collapse hr {
  opacity: 1;
  margin-left: calc(var(--bs-gutter-x) * -0.5);

  @media (width >= 576px) {
    margin-left: calc((((100vw - 540px) / 2) * -1) - (var(--bs-gutter-x) * 0.5));
  }
}

.masthead {
  /* No w-{breakpoint}-{value} helper, so we have to do this */
  .navbars {
    width: 100%;

    @media (width >= 768px) {
      width: unset;
      flex: 1 1 auto;
    }
  }

  .navbar-collapse {
    transition: none;

    --bs-navbar-padding-y: 0;
  }

  .navbar-nav {
    padding: 0.5rem 0;

    --bs-nav-link-padding-y: 0.25rem;

    @media(width >= 768px) {
      padding: 0;

      --bs-nav-link-padding-y: 0.5rem;
    }

    li {
      display: inline-block;
      position: relative;
    }
  }

  .h1 {
    font-size: 2.25rem;

    a {
      --bs-link-hover-decoration: none;
    }
  }
}

.navbar-collapse .dropdown-menu {
  --bs-dropdown-padding-x: 0.125rem;
  --bs-dropdown-padding-y: 0.125rem;
  --bs-dropdown-item-padding-x: 0.5rem;
  --bs-dropdown-item-padding-y: 0.125rem;

  &.show {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
  }
}
